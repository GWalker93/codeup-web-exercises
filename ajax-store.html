<!DOCTYPE html>
<html>
<head>
    <title>Online Store</title>
</head>
<body>

<h1>My Tool Store</h1>

<table id="products">
    <thead>
        <dl>
            <dt>Title</dt>
            <dt>Quantity</dt>
            <dt>Price</dt>
            <dt>Categories</dt>
        </dl>
    </thead>
    <tbody id="insertProducts"></tbody>
</table>

<button id="update-button">Update</button>

<script src="https://code.jquery.com/jquery-2.2.4.min.js" integrity="sha256-BbhdlvQf/xTY9gja0Dq3HiwQF8LaCRTXxZKRutelT44=" crossorigin="anonymous"></script>

<script>
$(document).ready(function() {
    "use strict";

    function updateOrder() {
        $.get('./data/inventory.json').done((data) => {

                console.log(data[0].itemOrdered);
                let ordersHTMl = '';
                for (let i=0; i<data.length; i += 1) {
                    ordersHTMl +=  <article>
                    <h3>Order #${data[i].orderNumber}</h3>
                    <dl>
                        <dt>Item Ordered</dt>
                        <dd>${data[i].itemOrdered}</dd>
                        <dt>Ordered by</dt>
                        <dd>${data[i].orderedBy}</dd>
                    </dl>
                    </article>
                }

            $('#orders').html(ordersHTML);
        }).fail((jqXhr, status, error) => {
            console.log('OH NOOOO!!!');
            console.log(status);
            console.log(error);
        });
    }

            setInterval(updateOrder, 3000);

            $('#update-btn').on('click', updateOrder);
            });
        

    // TODO: Create an AJAX GET request for the file under data/inventory.json

    // TODO: Take the data from inventory.json and append it to the products table
    //       HINT: Your data should come back as a JSON object; use console.log() to inspect
    //             its contents and fields
    //       HINT: You will want to target #insertProducts for your new HTML elements

</script>
</body>
</html>
